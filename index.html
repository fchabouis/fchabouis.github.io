<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Café !</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
</head>
<body>

  <div id="app" class="container-fluid s-rows">
    <div v-for="boisson in choices">
      <div class="row s-rows">
        <div class="col-lg-2 col-lg-offset-2 col-xs-2 text-right total-lh">
          {{ boisson.count }} 
        </div>
        <div class="col-lg-3 col-xs-8 text-center">
        <div class="btn-group btn-group-justified" role="group">
          <div class="btn-group">
            <button type="button" class="btn btn-default"> 
            {{ boisson.label }} 
          </button> 
          </div>
          <div class="btn-group">
            <button type="button" class="btn btn-default" v-on:click="boisson.count += 1">
              <i class="glyphicon glyphicon-plus"></i> 
            </button>
          </div>
        </div>

        </div>
        <div class="col-lg-2 col-xs-2">
          <button v-on:click="boisson.count = 0" class="btn btn-danger"><i class="glyphicon glyphicon-remove"></i></button>
        </div>   
        
      </div>
    </div>
    <hr>
    <div class="row text-center">
      {{ total }} participants 
      <button v-on:click="reset()" class="btn btn-danger">
      <i class="glyphicon glyphicon-remove"></i>
      </button>    
    </div>


  </div>

  <script>
    new Vue({
      el: '#app',
      data: {
        choices: [
          {label: "café", count: 0},
          {label: "noisette", count: 0},
          {label: "allongé", count: 0},
          {label: "chocolat", count: 0},
          {label: "thé", count: 0},
        ]
      },
      computed: {
        total () {
          var t = 0;
          for (var i=0; i < this.choices.length; ++i) {
            t += this.choices[i].count
          }
          return t
        }
      },
      methods: {
        reset () {
          for (var i=0; i < this.choices.length; ++i) {
            this.choices[i].count = 0
          }
        }
      }      
     })
  </script>
  <style type="text/css">
  .s-rows{margin-top: 10px; margin-bottom: 10px;}
  .total-lh{line-height: 34px;}
  </style>
</body>
</html>
